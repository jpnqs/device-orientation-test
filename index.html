<!DOCTYPE html>
<html>
  <head>
    <title>Device Orientation</title>
  </head>
  <body>
    <script>
          if (typeof DeviceMotionEvent.requestPermission === 'function') {
      DeviceMotionEvent.requestPermission()
        .then(permissionState => {
          if (permissionState === 'granted') {

      document.body.style.fontFamily = 'Arial';
      document.body.style.fontSize = "20rem";
      document.body.style.color = 'black';
      document.body.width = "100%";
      document.body.height = "100%";

      window.addEventListener('deviceorientation', ev => {

        var alpha = Math.round(ev.alpha);

        if (alpha > 10) {
          document.body.innerText = "right";
          document.body.style.backgroundColor = `rgba(${alpha > 255 ? 255 : 255 - alpha}, 0, 0, 255)`;

        } else if (alpha < -10) {
          document.body.innerText = "left";
          document.body.style.backgroundColor = `rgba(0, ${alpha > 255 ? 255 : 255 + alpha}, 0, 255)`;

        } else {
          document.body.innerText = "dead zone";
          document.body.style.backgroundColor = 'gray';
        }


      }, true); 
          }
                    })
        .catch(console.error);
    } else {
      // handle regular non iOS 13+ devices
    }

    </script>
  </body>
</html>
